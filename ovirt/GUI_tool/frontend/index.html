<html>
<head>
  <title>VM Shoppe</title>

  <link rel="shortcut icon" href="./assets/images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./assets/images/favicon.ico" type="image/x-icon">
  <script src="./assets/3rd/jquery.min.js"></script>
  <script src="./assets/3rd/jquery-ui.js"></script>
  <script src="./assets/js/ovirtGuiScripts.js"></script>
  <!-- materialize stuff -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="./assets/3rd/materialize/css/materialize.min.css"  media="screen,projection"/>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- import our custom css after materialize, overwriting some stylings -->
  <link rel="stylesheet" href="./assets/style/vmShopStyle.css" type="text/css">
</head>

<body>
Welcome to the VM Shop!

  <!-- div to display if something goes wrong in setup, can display msg here without displaying login or schedule div -->
  <div class="msg" id="general-msg" style="display: none;"></div>

  <!-- LOGIN SECTION -->
  <div class="action-container" id="login-block" style="display: none;">
    <h1>Enter LDAP Credentials</h1>
    <form id="login-form" target="_blank">
      <input type="text" id="user" placeholder="Username" required="required" />
      <input type="password" id="p" placeholder="Password" required="required" />
      <button type="submit" id="login-button" class="btn waves-effect waves-light">Log In.</button>
    </form>
    <div class="msg" id="login-msg"></div>
  </div>

  <!-- VM DETAILS FORM; unhide when login successful -->
  <div class="container" id="vm-schedule-block" style="display: none;">
    <!-- header -->
    <div class="row">
      <div class="col s12">
        <div style="text-align: center;">
          <h1>VM Details</h1>
        </div>

        <form id="schedule-form">
          <div class="row">

            <!-- vm basename -->
            <div class="input-field col s12">
              <!-- you need to set the placeholder attr to get the materialize label from being stuck before focusing on the element.  Even if you set it dynamically and rebind it doesn't seem to work. js is going to do something else with eithe rplaceholder or fill in the value-->
              <input type="text" id="vm-basename" placeholder="username" class="validate" required="required" />
              <label for="vm-basename" class="tooltipped" data-position="bottom" data-tooltip="Basename for the hostname that will be assigned to the new VM(s).  It is a 'basename' as the final hostname will have a random sequence of chars appended to the value provided here, to ensure hostname uniqueness.  If more than one VM is requested, a counter will be appended as well. (i.e., yourbasename-vm0, yourbasename-vm1, etc.)  Don't stress; you will be notified with all of these details via email once your request is complete!" >VM Basename</label>
              <span id="vm-basename-label" class="helper-text" for="vm-basename" data-error="" data-success="">Please enter a name for your VM.</span>
            </div>
          </div>

          <!-- INSTALLER -->
          <div class="row no-row-bottom">
            <div id="inst-type" class="input-field col s12">
              <fieldset id="group1">
                <legend>Installer</legend>
                <p>
                  <label>
                    <input id="install-type-own" name="install-type" type="radio" value="own" required />
                    <span>I'll provide my own installer</span>
                  </label>
                </p>

                <!-- user installer input; unhide if radio button above selected -->
                <div id="my-installer-wrap" style="display: none;">
                  <div class="input-field col s12">
                    <input type="text" id="own-installer" placeholder="/netstore/builds/byJob/BuildTrunk/xcalar-latest-installer-prod" />
                    <label for="own-installer">Installer path</label>
                    <span class="helper-text" for="own-installer" data-error="" data-success=""></span>
                  </div>
                </div>

                <p>
                  <label>
                    <input id="install-type-rc" name="install-type" type="radio" value="get-rc"/>
                    <span>I'll pick from a list of Release Candidates</span>
                  </label>
                </p>

                <!-- section containing dropdowns for RC installers; unhide first dropdown if install-type-rc selected -->
                <div id="rc-installer-wrap" style="display: none;">
                  <div id="rc-installer-main-dropdown" class="input-field col s12">
                    <!-- dropdown with all RC installers -->
                    <select id="rc-installer"> <!-- js will get list of curr installers; make sure server has netstore! -->
                    </select>
                  </div>
                  <!-- dropdown with build flavors for an RC; unhide if an option selected in above dropdown -->
                  <div id="rc-flavor-wrap" class="input-field col s12" style="display: none;">
                    <select id="rc-flavor">
                    <!-- js will populate based on what builds are available -->
                    </select>
                  </div>
                </div>

                <p>
                  <label>
                    <input id="install-type-none" name="install-type" type="radio" value="no-inst" />
                    <span id="install-type-none-label">I don't want to install Xcalar on this VM</span>
                   </label>
                </p>
              </fieldset>
            </div>
          </div>

           <!-- SELECT NUMBER OF VMS -->
          <div class="row no-row-bottom">
            <div class="input-field col s12">
              <select id="count-vms" required class="validate"> <!-- required isn't working -->
              </select>
              <label for="count-vms">Number of VMs</label>
            </div>
          </div>

          <!-- checkbox option to form in to cluster; unhide if count > 1 and installing -->
          <div id="Q-form-cluster" style="display: none; margin-bottom: 20px;">
            <label>
              <input id="cluster-check" type="checkbox" class="filled-in" checked="checked" />
              <span>Form in to Cluster?</span>
            </label>
          </div>

          <!-- RAM AND CORES -->
          <div class="row">
            <div class="input-field col s12">
              <select id="count-ram">
              </select>
              <label id="ram-label" for="count-ram">RAM</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <select id="count-cores">
              </select>
              <label id="cores-label" for="count-cores">Cores</label>
            </div>
          </div>

      <!-- email on completion -->
<!--
    <div class="row">
      <div class="input-field col s12">
        <input type="text" id="email-notify" placeholder="fyi - doesn't work yet" />
        <label for="email-notify" class="validate tooltipped" data-position="top" data-tooltip="Comma separated list of email addresses to notify with job result." required="required" >Users to email upon job completion</label>
      </div>
    </div>
-->

          <!-- submit button to submit request -->
          <div class="row">
            <div class="input-field col s8 offset-s2">
              <button type="submit" id="schedule-button" class="btn waves-effect waves-light" >
              Submit VM Request.
              </button>
            </div>
          </div>

        </form>

        <!-- message to user if there's an error on the form -->
        <div class="msg" id="schedule-msg"></div>
      </div>
    </div>
  </div>

  <!--JavaScript at end of body for optimized loading-->
  <script type="text/javascript" src="./assets/3rd/materialize/js/materialize.min.js"></script>

<!-- dont bind/initialize the materialize elements in here,
do it in javascript document ready, as you might need to dynamically populated
some elelments which will take some time.
-->
</body>
</html>

